!function(e,n){if("object"===typeof exports&&"object"===typeof module)module.exports=n();else if("function"===typeof define&&define.amd)define([],n);else{var t=n();for(var r in t)("object"===typeof exports?exports:e)[r]=t[r]}}(self,(function(){return function(){"use strict";var e={n:function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,{a:t}),t},d:function(n,t){for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r:function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{default:function(){return ye}});var t=require("@babel/runtime-corejs3/core-js/reflect/construct"),r=e.n(t),o=require("@babel/runtime-corejs3/core-js/object/keys"),l=e.n(o),i=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols"),s=e.n(i),c=require("@babel/runtime-corejs3/core-js/instance/filter"),u=e.n(c),a=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor"),d=e.n(a),f=require("@babel/runtime-corejs3/core-js/instance/for-each"),m=e.n(f),p=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors"),v=e.n(p),h=require("@babel/runtime-corejs3/core-js/object/define-properties"),g=e.n(h),b=require("@babel/runtime-corejs3/core-js/object/define-property"),y=e.n(b),j=require("@babel/runtime-corejs3/helpers/defineProperty"),w=e.n(j),E=require("@babel/runtime-corejs3/helpers/classCallCheck"),T=e.n(E),D=require("@babel/runtime-corejs3/helpers/createClass"),S=e.n(D),P=require("@babel/runtime-corejs3/helpers/inherits"),q=e.n(P),R=require("@babel/runtime-corejs3/helpers/possibleConstructorReturn"),x=e.n(R),L=require("@babel/runtime-corejs3/helpers/getPrototypeOf"),C=e.n(L),M=require("@babel/runtime-corejs3/core-js/instance/includes"),O=e.n(M),W=require("@babel/runtime-corejs3/core-js/set-timeout"),H=e.n(W),A=require("@babel/runtime-corejs3/core-js/instance/map"),k=e.n(A),Y=require("react"),F=e.n(Y),N=require("@babel/runtime-corejs3/core-js/parse-float"),B=e.n(N),_="Pixel",V="Percent",X={unit:V,value:.8};function z(e){return"number"===typeof e?{unit:V,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:_,value:B()(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:V,value:B()(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),X):(console.warn("scrollThreshold should be string or number"),X)}var U=0,$=function(e){var n=(new Date).getTime(),t=Math.max(0,16.7-(n-U)),r=H()((function(){e(n+t)}),t);return U=n+t,r},G=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&($=function(e){return window.requestAnimationFrame(e)},G=function(e){return window.cancelAnimationFrame(e)});var I={setRaf:$,cancelRaf:G},J=require("@babel/runtime-corejs3/core-js/instance/index-of"),K=e.n(J),Q=require("@babel/runtime-corejs3/helpers/typeof"),Z=e.n(Q);function ee(e){return"object"===("undefined"===typeof HTMLElement?"undefined":Z()(HTMLElement))?e instanceof HTMLElement:e&&"object"===Z()(e)&&1===e.nodeType&&"string"===typeof e.nodeName}function ne(e,n){var t=l()(e);if(s()){var r=s()(e);n&&(r=u()(r).call(r,(function(n){return d()(e,n).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t,r,o=null!=arguments[n]?arguments[n]:{};n%2?m()(t=ne(Object(o),!0)).call(t,(function(n){w()(e,n,o[n])})):v()?g()(e,v()(o)):m()(r=ne(Object(o))).call(r,(function(n){y()(e,n,d()(o,n))}))}return e}function re(e){return e.getBoundingClientRect()}function oe(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(ee(n)){if(O()(e=[document.documentElement,document.body]).call(e,n)){var t=n.ownerDocument,r=t.defaultView,o=t.documentElement.scrollLeft||r.pageXOffset||t.body.scrollLeft,l=t.documentElement.scrollTop||r.pageYOffset||t.body.scrollTop;return{x:o,y:l}}var i=n.scrollLeft,s=n.scrollTop;return{x:i,y:s}}}function le(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body||document.documentElement,t=null;if("clientX"in e)t={x:(null===e||void 0===e?void 0:e.clientX)-re(n).left,y:(null===e||void 0===e?void 0:e.clientY)-re(n).top};else if("touches"in e){var r,o;if(null!==e&&void 0!==e&&e.touches[0])t={x:(null===e||void 0===e||null===(r=e.touches[0])||void 0===r?void 0:r.clientX)-re(n).left,y:(null===e||void 0===e||null===(o=e.touches[0])||void 0===o?void 0:o.clientY)-re(n).top}}return t}function ie(e,n,t){var r;O()(r=[document.documentElement,document.body]).call(r,e)?(document.documentElement.scrollTop=t||0,document.documentElement.scrollLeft=n||0):e?(e.scrollTop=t||0,e.scrollLeft=n||0):window&&window.scrollTo(n||0,t||0)}function se(e){var n;if(ee(e))return O()(n=[document.documentElement,document.body]).call(n,e)?{width:window.innerWidth,height:window.innerHeight}:{width:e.offsetWidth,height:e.offsetHeight}}function ce(e){return!!ee(e)&&(e.scrollTop>0||(e.scrollTop++,e.scrollTop>0))}function ue(e,n,t,r){if(e){var o=te({capture:!1,once:!1,passive:!1},r);e.addEventListener?e.addEventListener(n,t,o):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}}function ae(e,n,t,r){if(e){var o=te({capture:!1,once:!1,passive:!1},r);e.removeEventListener?e.removeEventListener(n,t,o):e.detachEvent?e.detachEvent("on"+n,t):e["on"+n]=null}}var de=require("@babel/runtime-corejs3/core-js/instance/some"),fe=e.n(de);function me(e,n){var t=l()(e);if(s()){var r=s()(e);n&&(r=u()(r).call(r,(function(n){return d()(e,n).enumerable}))),t.push.apply(t,r)}return t}function pe(e){for(var n=1;n<arguments.length;n++){var t,r,o=null!=arguments[n]?arguments[n]:{};n%2?m()(t=me(Object(o),!0)).call(t,(function(n){w()(e,n,o[n])})):v()?g()(e,v()(o)):m()(r=me(Object(o))).call(r,(function(n){y()(e,n,d()(o,n))}))}return e}function ve(e){var n=function(){if("undefined"===typeof Reflect||!r())return!1;if(r().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=C()(e);if(n){var l=C()(this).constructor;t=r()(o,arguments,l)}else t=o.apply(this,arguments);return x()(this,t)}}var he={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ge=function(){var e=navigator.userAgent,n=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];return fe()(n).call(n,(function(n){return O()(e).call(e,n)}))}()?he.touch:he.mouse,be=function(e){q()(t,e);var n=ve(t);function t(e){var r;return T()(this,t),(r=n.call(this,e)).scrollWrap=void 0,r.childrenWrap=void 0,r.event=void 0,r.scrollRoot=void 0,r.dragging=void 0,r.startY=void 0,r.setScroll=function(e,n){r.scrollRoot&&ie(r.scrollRoot,e,n)},r.addEvents=function(){var e=r.getScrollableTarget(),n=r.props,t=n.scrollableParent,o=n.height,l=n.inverse;r.scrollRoot=e;var i=null===e||void 0===e?void 0:e.scrollHeight;e&&(r.initDom(e),t&&o&&console.error('"scrollableParent" and "height" only need one')),l&&i&&r.setScroll(0,i)},r.removeEvents=function(){var e=r.props.pullDownToRefresh,n=r.event;n&&(ae(n,"scroll",r.onScrollListener),e&&(ae(n,ge.start,r.onStart),ae(n,ge.move,r.onMove),ae(document,ge.stop,r.onEnd),I.cancelRaf(r.resetDrag)))},r.getScrollableTarget=function(){var e=r.scrollWrap,n=r.props.scrollableParent;return ee(n)?n:"string"===typeof n?document.querySelector(n):r.props.height?e:function(e,n){var t=[document.documentElement,document.body];if(K()(t).call(t,e)>-1)return document.body||document.documentElement;var r=null===e||void 0===e?void 0:e.parentNode;if(n)for(;-1==K()(t).call(t,r)&&n>0;){if(ce(r))return r;r=r.parentNode,n--}else for(;-1==K()(t).call(t,r);){if(ce(r))return r;r=r.parentNode}return document.body||document.documentElement}(e)},r.initDom=function(e){var n,t=r.props,o=t.pullDownToRefresh;if(!t.forbidTrigger){var l=O()(n=[document.documentElement,document.body]).call(n,e)?document||window:e;r.event=l,l&&ue(l,"scroll",r.onScrollListener),o&&l&&(ue(document,ge.start,r.onStart),ue(document,ge.move,r.onMove),ue(document,ge.stop,r.onEnd))}},r.updateList=function(){var e=r.scrollRoot;if(e){var n=r.props,t=n.inverse,o=n.thresholdValue,l=r.state,i=l.loading,s=l.scrollHeight;t&&i&&r.isElementAtTop(e,o)&&ie(e,0,s&&e.scrollHeight-s?e.scrollHeight-s:50),r.setState({loading:!1,scrollHeight:e.scrollHeight})}},r.onScrollListener=function(e){var n=r.props,t=n.onScroll,o=n.inverse,l=n.thresholdValue,i=n.hasMore,s=n.next,c=n.forbidTrigger,u=r.state.loading;if("function"===typeof t&&H()((function(){return t&&t(e)}),0),!u&&!c){var a=r.scrollRoot;if(a)(o?r.isElementAtTop(a,l):r.isElementAtBottom(a,l))&&i&&(r.setState({loading:!0}),s&&s())}},r.isElementAtTop=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,r=(null===(n=oe(e))||void 0===n?void 0:n.y)||0,o=z(t);return o.unit===_?r<=o.value:r<=20},r.isElementAtBottom=function(e){var n,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,o=(null===(n=se(e))||void 0===n?void 0:n.height)||0,l=(null===(t=oe(e))||void 0===t?void 0:t.y)||0,i=z(r);return i.unit===_?l+o>=e.scrollHeight-i.value:l+o>=i.value/100*e.scrollHeight},r.onStart=function(e){var n,t=r.props,o=t.inverse,l=t.thresholdValue;if(r.scrollRoot&&!(o?!r.isElementAtBottom(r.scrollRoot,l):!r.isElementAtTop(r.scrollRoot,l))){r.dragging=!0,r.startY=(null===(n=le(e))||void 0===n?void 0:n.y)||0;var i=r.scrollWrap;i&&(i.style.willChange="transform",i.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)")}},r.onMove=function(e){var n;if(r.dragging){var t=r.props,o=t.minPullDown,l=t.maxPullDown,i=t.inverse;if(o>l)console.warn('"minPullDown" is large than "maxPullDown", please set "maxPullDown" and "maxPullDown" should large than "minPullDown"');else{var s=o,c=l,u=((null===(n=le(e))||void 0===n?void 0:n.y)||0)-r.startY;if(i){if(u<0){var a=Math.max(u,-c);r.setState({pullDistance:a}),I.setRaf((function(){return r.setDrag(a)}))}}else if(u>0){var d=Math.min(u,c);r.setState({pullDistance:d}),I.setRaf((function(){return r.setDrag(d)}))}Math.abs(u)>=s?r.setState({refreshType:"release"}):r.setState({refreshType:"pullDown"})}}},r.onEnd=function(e){var n=r.props.refreshFunction,t=r.state.pullDistance;if("function"!==typeof n)throw new Error('"refreshFunction" is not function or missing');r.dragging=!1,Math.abs(t)>0&&(r.setState({refreshType:"refreshing"}),n&&n(),I.setRaf(r.resetDrag),r.startY=0,r.setState({pullDistance:0}))},r.resetDrag=function(){var e=r.childrenWrap;e&&(e.style.transform="none",e.style.willChange="none")},r.setDrag=function(e){var n=r.childrenWrap;n&&(n.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)",n.style.transform="translate3d(0px, ".concat(e,"px, 0px)"))},r.dragging=!1,r.startY=0,r.scrollWrap=null,r.childrenWrap=null,r.state={refreshType:"pullDown",loading:!1,scrollHeight:0,pullDistance:0},r}return S()(t,[{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"componentDidUpdate",value:function(e,n){var t,r,o=this.props.length===e.length;(null===(t=this.props)||void 0===t?void 0:t.isRefreshing)!==(null===e||void 0===e?void 0:e.isRefreshing)&&(null!==(r=this.props)&&void 0!==r&&r.isRefreshing||this.setState({refreshType:"refreshEnd"}));o||(this.getScrollableTarget()!==this.scrollRoot&&(ae(this.event,"scroll",this.onScrollListener),this.addEvents()),this.updateList())}},{key:"render",value:function(){var e,n=this,t=this.props,r=t.children,o=t.pullDownToRefresh,l=t.height,i=t.containerStyle,s=t.hasMore,c=t.loadingComponent,u=t.endComponent,a=t.pullDownComponent,d=t.releaseComponent,f=t.refreshingComponent,m=t.refreshEndComponent,p=t.inverse,v=t.className,h=this.state,g=h.loading,b=h.pullDistance,y=h.refreshType,j=o&&l?{overflow:"hidden"}:{},w=pe({height:l||"auto",overflow:l?"auto":"hidden",WebkitOverflowScrolling:"touch"},i),E=F().createElement(F().Fragment,null,g&&s&&c,!s&&u),T={pullDown:a,release:d,refreshing:f,refreshEnd:m},D=o&&F().createElement("div",{style:{display:b||"refreshing"===y?"block":"none"}},F().createElement("span",null,T[y]));return F().createElement("div",{style:j,className:"infinite-scroll-component__outerdiv"},F().createElement("div",{className:"infinite-scroll-component ".concat(v||""),ref:function(e){return n.scrollWrap=e},style:w},F().createElement("div",{ref:function(e){return n.childrenWrap=e}},!p&&D,p&&E,k()(e=F().Children).call(e,r,(function(e,n){return F().cloneElement(F().Children.only(e),{style:pe({},e.props.style)})})),!p&&E,p&&D)))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.length!==n.prevLength?pe(pe({},n),{},{prevLength:e.length}):null}}]),t}(F().Component);be.defaultProps={minPullDown:10,maxPullDown:50};var ye=be;return n}()}));