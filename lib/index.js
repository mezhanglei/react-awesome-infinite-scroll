!function(e,n){if("object"===typeof exports&&"object"===typeof module)module.exports=n();else if("function"===typeof define&&define.amd)define([],n);else{var t=n();for(var r in t)("object"===typeof exports?exports:e)[r]=t[r]}}(self,(function(){return function(){"use strict";var e={n:function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,{a:t}),t},d:function(n,t){for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r:function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};e.r(n),e.d(n,{default:function(){return je}});var t=require("@babel/runtime-corejs3/core-js/reflect/construct"),r=e.n(t),o=require("@babel/runtime-corejs3/core-js/object/keys"),l=e.n(o),i=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols"),c=e.n(i),s=require("@babel/runtime-corejs3/core-js/instance/filter"),u=e.n(s),a=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor"),d=e.n(a),f=require("@babel/runtime-corejs3/core-js/instance/for-each"),m=e.n(f),p=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors"),v=e.n(p),h=require("@babel/runtime-corejs3/core-js/object/define-properties"),b=e.n(h),g=require("@babel/runtime-corejs3/core-js/object/define-property"),y=e.n(g),E=require("@babel/runtime-corejs3/helpers/defineProperty"),j=e.n(E),w=require("@babel/runtime-corejs3/helpers/classCallCheck"),S=e.n(w),R=require("@babel/runtime-corejs3/helpers/createClass"),T=e.n(R),D=require("@babel/runtime-corejs3/helpers/inherits"),P=e.n(D),L=require("@babel/runtime-corejs3/helpers/possibleConstructorReturn"),q=e.n(L),x=require("@babel/runtime-corejs3/helpers/getPrototypeOf"),H=e.n(x),C=require("@babel/runtime-corejs3/core-js/instance/includes"),M=e.n(C),O=require("@babel/runtime-corejs3/core-js/set-timeout"),W=e.n(O),A=require("@babel/runtime-corejs3/core-js/instance/map"),N=e.n(A),F=require("react"),k=e.n(F),Y=require("@babel/runtime-corejs3/core-js/parse-float"),U=e.n(Y),B="Pixel",_="Percent",V={unit:_,value:.8};function G(e){return"number"===typeof e?{unit:_,value:100*e}:"string"===typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:B,value:U()(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:_,value:U()(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),V):(console.warn("scrollThreshold should be string or number"),V)}var I=0,X=function(e){var n=(new Date).getTime(),t=Math.max(0,16.7-(n-I)),r=W()((function(){e(n+t)}),t);return I=n+t,r},z=function(e){return clearTimeout(e)};"undefined"!==typeof window&&"requestAnimationFrame"in window&&(X=function(e){return window.requestAnimationFrame(e)},z=function(e){return window.cancelAnimationFrame(e)});var $={setRaf:X,cancelRaf:z},J=require("@babel/runtime-corejs3/core-js/instance/index-of"),K=e.n(J),Q=require("@babel/runtime-corejs3/helpers/typeof"),Z=e.n(Q);function ee(e){return"object"===("undefined"===typeof HTMLElement?"undefined":Z()(HTMLElement))?e instanceof HTMLElement:e&&"object"===Z()(e)&&1===e.nodeType&&"string"===typeof e.nodeName}function ne(e,n){var t=l()(e);if(c()){var r=c()(e);n&&(r=u()(r).call(r,(function(n){return d()(e,n).enumerable}))),t.push.apply(t,r)}return t}function te(e){for(var n=1;n<arguments.length;n++){var t,r,o=null!=arguments[n]?arguments[n]:{};n%2?m()(t=ne(Object(o),!0)).call(t,(function(n){j()(e,n,o[n])})):v()?b()(e,v()(o)):m()(r=ne(Object(o))).call(r,(function(n){y()(e,n,d()(o,n))}))}return e}function re(e){return e.getBoundingClientRect()}function oe(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(ee(n)){if(M()(e=[document.documentElement,document.body]).call(e,n)){var t=n.ownerDocument,r=t.defaultView,o=t.documentElement.scrollLeft||r.pageXOffset||t.body.scrollLeft,l=t.documentElement.scrollTop||r.pageYOffset||t.body.scrollTop;return{x:o,y:l}}var i=n.scrollLeft,c=n.scrollTop;return{x:i,y:c}}}function le(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body||document.documentElement,t=null;if("clientX"in e)t={x:(null===e||void 0===e?void 0:e.clientX)-re(n).left,y:(null===e||void 0===e?void 0:e.clientY)-re(n).top};else if("touches"in e){var r,o;if(null!==e&&void 0!==e&&e.touches[0])t={x:(null===e||void 0===e||null===(r=e.touches[0])||void 0===r?void 0:r.clientX)-re(n).left,y:(null===e||void 0===e||null===(o=e.touches[0])||void 0===o?void 0:o.clientY)-re(n).top}}return t}function ie(e,n,t){var r;M()(r=[document.documentElement,document.body]).call(r,e)?(document.documentElement.scrollTop=t||0,document.documentElement.scrollLeft=n||0):e?(e.scrollTop=t||0,e.scrollLeft=n||0):window&&window.scrollTo(n||0,t||0)}function ce(e){var n;if(ee(e))return M()(n=[document.documentElement,document.body]).call(n,e)?{width:window.innerWidth,height:window.innerHeight}:{width:e.offsetWidth,height:e.offsetHeight}}function se(e){return!!ee(e)&&(e.scrollTop>0||(e.scrollTop++,e.scrollTop>0))}function ue(e,n,t,r){if(e){var o=te({capture:!1,once:!1,passive:!1},r);e.addEventListener?e.addEventListener(n,t,o):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}}function ae(e,n,t,r){if(e){var o=te({capture:!1,once:!1,passive:!1},r);e.removeEventListener?e.removeEventListener(n,t,o):e.detachEvent?e.detachEvent("on"+n,t):e["on"+n]=null}}var de,fe,me=require("@babel/runtime-corejs3/core-js/instance/some"),pe=e.n(me);function ve(e,n){var t=l()(e);if(c()){var r=c()(e);n&&(r=u()(r).call(r,(function(n){return d()(e,n).enumerable}))),t.push.apply(t,r)}return t}function he(e){for(var n=1;n<arguments.length;n++){var t,r,o=null!=arguments[n]?arguments[n]:{};n%2?m()(t=ve(Object(o),!0)).call(t,(function(n){j()(e,n,o[n])})):v()?b()(e,v()(o)):m()(r=ve(Object(o))).call(r,(function(n){y()(e,n,d()(o,n))}))}return e}function be(e){var n=function(){if("undefined"===typeof Reflect||!r())return!1;if(r().sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=H()(e);if(n){var l=H()(this).constructor;t=r()(o,arguments,l)}else t=o.apply(this,arguments);return q()(this,t)}}!function(e){e.PULL="pullDown",e.RELEASE="release",e.REFRESHING="refreshing",e.END="refreshEnd"}(de||(de={})),function(e){e.UP="up",e.DOWN="down"}(fe||(fe={}));var ge={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ye=function(){var e=navigator.userAgent,n=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"];return pe()(n).call(n,(function(n){return M()(e).call(e,n)}))}()?ge.touch:ge.mouse,Ee=function(e){P()(t,e);var n=be(t);function t(e){var r;return S()(this,t),(r=n.call(this,e)).scrollWrap=void 0,r.childrenWrap=void 0,r.event=void 0,r.scrollRoot=void 0,r.dragging=void 0,r.startY=void 0,r.setScroll=function(e,n){r.scrollRoot&&ie(r.scrollRoot,e,n)},r.addEvents=function(){r.scrollRoot=r.getScrollableTarget();var e=r.props,n=e.scrollableParent,t=e.height,o=e.inverse,l=r.scrollRoot,i=null===l||void 0===l?void 0:l.scrollHeight;l&&(r.initDom(l),n&&t&&console.error('"scrollableParent" and "height" only need one'),o&&i&&r.setScroll(0,i))},r.removeEvents=function(){var e=r.props.pullDownToRefresh,n=r.event;n&&(ae(n,"scroll",r.onScrollListener),e&&(ae(n,ye.start,r.onStart),ae(n,ye.move,r.onMove),ae(document,ye.stop,r.onEnd),$.cancelRaf(r.resetDrag)))},r.getScrollableTarget=function(){var e=r.scrollWrap,n=r.props.scrollableParent;return ee(n)?n:"string"===typeof n?document.querySelector(n):r.props.height?e:function(e,n){var t=[document.documentElement,document.body];if(K()(t).call(t,e)>-1)return document.body||document.documentElement;var r=null===e||void 0===e?void 0:e.parentNode;if(n)for(;-1==K()(t).call(t,r)&&n>0;){if(se(r))return r;r=r.parentNode,n--}else for(;-1==K()(t).call(t,r);){if(se(r))return r;r=r.parentNode}return document.body||document.documentElement}(e)},r.initDom=function(e){var n,t=r.props,o=t.pullDownToRefresh;if(!t.forbidTrigger){var l=M()(n=[document.documentElement,document.body]).call(n,e)?document||window:e;r.event=l,l&&ue(l,"scroll",r.onScrollListener),o&&l&&(ue(document,ye.start,r.onStart),ue(document,ye.move,r.onMove),ue(document,ye.stop,r.onEnd))}},r.updateList=function(){var e=r.scrollRoot;if(e){var n=r.props,t=n.inverse,o=n.thresholdValue,l=r.state,i=l.loading,c=l.scrollHeight;t&&i&&r.isElementAtTop(e,o)&&ie(e,0,c&&e.scrollHeight-c?e.scrollHeight-c:50),r.setState({loading:!1,scrollHeight:e.scrollHeight})}},r.onScrollListener=function(e){var n=r.props,t=n.onScroll,o=n.inverse,l=n.thresholdValue,i=n.hasMore,c=n.next,s=n.forbidTrigger,u=r.state.loading;if("function"===typeof t&&W()((function(){return t&&t(e)}),0),!u&&!s){var a=r.scrollRoot;if(a)(o?r.isElementAtTop(a,l):r.isElementAtBottom(a,l))&&i&&(r.setState({loading:!0}),c&&c())}},r.isElementAtTop=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,r=(null===(n=oe(e))||void 0===n?void 0:n.y)||0,o=G(t);return o.unit===B?r<=o.value:r<=20},r.isElementAtBottom=function(e){var n,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,o=(null===(n=ce(e))||void 0===n?void 0:n.height)||0,l=(null===(t=oe(e))||void 0===t?void 0:t.y)||0,i=G(r);return i.unit===B?l+o>=e.scrollHeight-i.value:l+o>=i.value/100*e.scrollHeight},r.onStart=function(e){var n,t=r.props,o=t.inverse,l=t.thresholdValue;if(r.scrollRoot&&!(o?!r.isElementAtBottom(r.scrollRoot,l):!r.isElementAtTop(r.scrollRoot,l))){r.dragging=!0,r.startY=(null===(n=le(e))||void 0===n?void 0:n.y)||0;var i=r.scrollWrap;i&&(i.style.willChange="transform",i.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)")}},r.onMove=function(e){var n;if(r.dragging){var t=r.props,o=t.minPullDown,l=t.maxPullDown,i=t.inverse;if(o>l)console.warn('"minPullDown" is large than "maxPullDown", please set "maxPullDown" and "maxPullDown" should large than "minPullDown"');else{var c=o,s=l,u=((null===(n=le(e))||void 0===n?void 0:n.y)||0)-r.startY;if(i){if(u<0){var a=Math.max(u,-s);r.setState({pullDistance:a}),$.setRaf((function(){return r.setDrag(a)}))}}else if(u>0){var d=Math.min(u,s);r.setState({pullDistance:d}),$.setRaf((function(){return r.setDrag(d)}))}Math.abs(u)>=c?r.setState({refreshType:de.RELEASE}):r.setState({refreshType:de.PULL})}}},r.onEnd=function(e){var n=r.props.refreshFunction,t=r.state.pullDistance;if("function"!==typeof n)throw new Error('"refreshFunction" is not function or missing');r.dragging=!1,Math.abs(t)>0&&(r.setState({refreshType:de.REFRESHING}),n&&n(),$.setRaf(r.resetDrag),r.startY=0,r.setState({pullDistance:0}))},r.resetDrag=function(){var e=r.childrenWrap;e&&(e.style.transform="none",e.style.willChange="none")},r.setDrag=function(e){var n=r.childrenWrap;n&&(n.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)",n.style.transform="translate3d(0px, ".concat(e,"px, 0px)"))},r.dragging=!1,r.startY=0,r.scrollWrap=null,r.childrenWrap=null,r.state={refreshType:de.PULL,loading:!1,scrollHeight:0,pullDistance:0},r}return T()(t,[{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"componentDidUpdate",value:function(e,n){var t,r,o=this.props.length===e.length;(null===(t=this.props)||void 0===t?void 0:t.isRefreshing)!==(null===e||void 0===e?void 0:e.isRefreshing)&&(null!==(r=this.props)&&void 0!==r&&r.isRefreshing||this.setState({refreshType:de.END}));o||(this.getScrollableTarget()!==this.scrollRoot&&(ae(this.event,"scroll",this.onScrollListener),this.addEvents()),this.updateList())}},{key:"render",value:function(){var e,n,t=this,r=this.props,o=r.children,l=r.pullDownToRefresh,i=r.height,c=r.containerStyle,s=r.hasMore,u=r.loadingComponent,a=r.endComponent,d=r.pullDownComponent,f=r.releaseComponent,m=r.refreshingComponent,p=r.refreshEndComponent,v=r.inverse,h=r.className,b=this.state,g=b.loading,y=b.pullDistance,E=b.refreshType,w=l&&i?{overflow:"hidden"}:{},S=he({height:i||"auto",overflow:i?"auto":"hidden",WebkitOverflowScrolling:"touch"},c),R=k().createElement(k().Fragment,null,g&&s&&u,!s&&a),T=(e={},j()(e,de.PULL,d),j()(e,de.RELEASE,f),j()(e,de.REFRESHING,m),j()(e,de.END,p),e),D=l&&k().createElement("div",{style:{display:y||E===de.REFRESHING?"block":"none"}},k().createElement("span",null,T[E]));return k().createElement("div",{style:w,className:"infinite-scroll-component__outerdiv"},k().createElement("div",{className:"infinite-scroll-component ".concat(h||""),ref:function(e){return t.scrollWrap=e},style:S},k().createElement("div",{ref:function(e){return t.childrenWrap=e}},!v&&D,v&&R,N()(n=k().Children).call(n,o,(function(e,n){return k().cloneElement(k().Children.only(e),{style:he({},e.props.style)})})),!v&&R,v&&D)))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.length!==n.prevLength?he(he({},n),{},{prevLength:e.length}):null}}]),t}(k().Component);Ee.defaultProps={minPullDown:10,maxPullDown:50};var je=Ee;return n}()}));