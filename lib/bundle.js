module.exports=function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/includes")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/index-of")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/parse-float")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/typeof")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/map")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/some")},function(e,t,n){"use strict";n.r(t);var o=n(7),r=n.n(o),l=n(8),i=n.n(l),s=n(3),c=n.n(s),u=n(9),a=n.n(u),f=n(4),d=n.n(f),p=n(5),m=n.n(p),v=n(6),h=n.n(v),g=n(2),b=n.n(g),y=n(14),E=n.n(y),w=n(15),j=n.n(w),x=n(16),S=n.n(x),T=n(17),P=n.n(T),R=n(11),D=n.n(R),L=n(1),q=n.n(L),O=n(18),H=n.n(O),M=n(0),C=n.n(M),W=n(12),A=n.n(W),N="Pixel",F="Percent",k={unit:F,value:.8};function Y(e){return"number"==typeof e?{unit:F,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:N,value:A()(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:F,value:A()(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),k):(console.warn("scrollThreshold should be string or number"),k)}var _=0,U=function(e){var t=(new Date).getTime(),n=Math.max(0,16.7-(t-_)),o=window.setTimeout((function(){e(t+n)}),n);return _=t+n,o},B=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(U=function(e){return window.requestAnimationFrame(e)},B=function(e){return window.cancelAnimationFrame(e)});var V={setRaf:U,cancelRaf:B},G=n(10),I=n.n(G),X=n(13),z=n.n(X);function $(e){return"object"===("undefined"==typeof HTMLElement?"undefined":z()(HTMLElement))?e instanceof HTMLElement:e&&"object"===z()(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function J(e,t){var n=i()(e);if(c.a){var o=c()(e);t&&(o=a()(o).call(o,(function(t){return d()(e,t).enumerable}))),n.push.apply(n,o)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n,o=null!=arguments[t]?arguments[t]:{};if(t%2)m()(n=J(Object(o),!0)).call(n,(function(t){b()(e,t,o[t])}));else if(h.a)Object.defineProperties(e,h()(o));else{var r;m()(r=J(Object(o))).call(r,(function(t){Object.defineProperty(e,t,d()(o,t))}))}}return e}function Q(e){return e.getBoundingClientRect()}function Z(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if($(t)){if(q()(e=[document.documentElement,document.body]).call(e,t)){var n=t.ownerDocument,o=n.defaultView,r=n.documentElement.scrollLeft||o.pageXOffset||n.body.scrollLeft,l=n.documentElement.scrollTop||o.pageYOffset||n.body.scrollTop;return{x:r,y:l}}var i=t.scrollLeft,s=t.scrollTop;return{x:i,y:s}}}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body||document.documentElement,n=null;if("clientX"in e)n={x:(null==e?void 0:e.clientX)-Q(t).left,y:(null==e?void 0:e.clientY)-Q(t).top};else if("touches"in e){var o,r;if(null!=e&&e.touches[0])n={x:(null==e||null===(o=e.touches[0])||void 0===o?void 0:o.clientX)-Q(t).left,y:(null==e||null===(r=e.touches[0])||void 0===r?void 0:r.clientY)-Q(t).top}}return n}function te(e,t,n){var o;q()(o=[document.documentElement,document.body]).call(o,e)?(document.documentElement.scrollTop=n||0,document.documentElement.scrollLeft=t||0):e?(e.scrollTop=n||0,e.scrollLeft=t||0):window&&window.scrollTo(t||0,n||0)}function ne(e){var t;if($(e))return q()(t=[document.documentElement,document.body]).call(t,e)?{width:window.innerWidth,height:window.innerHeight}:{width:e.offsetWidth,height:e.offsetHeight}}function oe(e){return!!$(e)&&(e.scrollTop>0||(e.scrollTop++,e.scrollTop>0))}function re(e,t,n,o){if(e){var r=K({capture:!1,once:!1,passive:!1},o);e.addEventListener?e.addEventListener(t,n,r):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function le(e,t,n,o){if(e){var r=K({capture:!1,once:!1,passive:!1},o);e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}var ie,se,ce=n(19),ue=n.n(ce);function ae(e,t){var n=i()(e);if(c.a){var o=c()(e);t&&(o=a()(o).call(o,(function(t){return d()(e,t).enumerable}))),n.push.apply(n,o)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n,o=null!=arguments[t]?arguments[t]:{};if(t%2)m()(n=ae(Object(o),!0)).call(n,(function(t){b()(e,t,o[t])}));else if(h.a)Object.defineProperties(e,h()(o));else{var r;m()(r=ae(Object(o))).call(r,(function(t){Object.defineProperty(e,t,d()(o,t))}))}}return e}function de(e){var t=function(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D()(e);if(t){var l=D()(this).constructor;n=r()(o,arguments,l)}else n=o.apply(this,arguments);return P()(this,n)}}!function(e){e.PULL="pullDown",e.RELEASE="release",e.REFRESHING="refreshing",e.END="refreshEnd"}(ie||(ie={})),function(e){e.UP="up",e.DOWN="down"}(se||(se={}));var pe,me,ve={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},he=(pe=navigator.userAgent,me=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],ue()(me).call(me,(function(e){return q()(pe).call(pe,e)}))?ve.touch:ve.mouse),ge=function(e){S()(n,e);var t=de(n);function n(e){var o;return E()(this,n),(o=t.call(this,e)).scrollWrap=void 0,o.childrenWrap=void 0,o.event=void 0,o.scrollRoot=void 0,o.dragging=void 0,o.startY=void 0,o.setScroll=function(e,t){o.scrollRoot&&te(o.scrollRoot,e,t)},o.addEvents=function(){o.scrollRoot=o.getScrollableTarget();var e=o.props,t=e.scrollableParent,n=e.height,r=e.inverse,l=o.scrollRoot,i=null==l?void 0:l.scrollHeight;l&&(o.initDom(l),t&&n&&console.error('"scrollableParent" and "height" only need one'),r&&i&&o.setScroll(0,i))},o.removeEvents=function(){var e=o.props.pullDownToRefresh,t=o.event;t&&(le(t,"scroll",o.onScrollListener),e&&(le(t,he.start,o.onStart),le(t,he.move,o.onMove),le(document,he.stop,o.onEnd),V.cancelRaf(o.resetDrag)))},o.getScrollableTarget=function(){var e=o.scrollWrap,t=o.props.scrollableParent;return $(t)?t:"string"==typeof t?document.querySelector(t):o.props.height?e:function(e,t){var n=[document.documentElement,document.body];if(I()(n).call(n,e)>-1)return document.body||document.documentElement;var o=null==e?void 0:e.parentNode;if(t)for(;-1==I()(n).call(n,o)&&t>0;){if(oe(o))return o;o=o.parentNode,t--}else for(;-1==I()(n).call(n,o);){if(oe(o))return o;o=o.parentNode}return document.body||document.documentElement}(e)},o.initDom=function(e){var t,n=o.props,r=n.pullDownToRefresh;if(!n.forbidTrigger){var l=q()(t=[document.documentElement,document.body]).call(t,e)?document||window:e;o.event=l,l&&re(l,"scroll",o.onScrollListener),r&&l&&(re(document,he.start,o.onStart),re(document,he.move,o.onMove),re(document,he.stop,o.onEnd))}},o.updateList=function(){var e=o.scrollRoot;if(e){var t=o.props,n=t.inverse,r=t.thresholdValue,l=o.state,i=l.loading,s=l.scrollHeight;n&&i&&o.isElementAtTop(e,r)&&te(e,0,s&&e.scrollHeight-s?e.scrollHeight-s:50),o.setState({loading:!1,scrollHeight:e.scrollHeight})}},o.onScrollListener=function(e){var t=o.props,n=t.onScroll,r=t.inverse,l=t.thresholdValue,i=t.hasMore,s=t.next,c=t.forbidTrigger,u=o.state.loading;if("function"==typeof n&&setTimeout((function(){return n&&n(e)}),0),!u&&!c){var a=o.scrollRoot;if(a)(r?o.isElementAtTop(a,l):o.isElementAtBottom(a,l))&&i&&(o.setState({loading:!0}),s&&s())}},o.isElementAtTop=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,o=(null===(t=Z(e))||void 0===t?void 0:t.y)||0,r=Y(n);return r.unit===N?o<=r.value:o<=20},o.isElementAtBottom=function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,r=(null===(t=ne(e))||void 0===t?void 0:t.height)||0,l=(null===(n=Z(e))||void 0===n?void 0:n.y)||0,i=Y(o);return i.unit===N?l+r>=e.scrollHeight-i.value:l+r>=i.value/100*e.scrollHeight},o.onStart=function(e){var t,n=o.props,r=n.inverse,l=n.thresholdValue;if(o.scrollRoot&&!(r?!o.isElementAtBottom(o.scrollRoot,l):!o.isElementAtTop(o.scrollRoot,l))){o.dragging=!0,o.startY=(null===(t=ee(e))||void 0===t?void 0:t.y)||0;var i=o.scrollWrap;i&&(i.style.willChange="transform",i.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)")}},o.onMove=function(e){var t;if(o.dragging){var n=o.props,r=n.minPullDown,l=n.maxPullDown,i=n.inverse;if(r>l)console.warn('"minPullDown" is large than "maxPullDown", please set "maxPullDown" and "maxPullDown" should large than "minPullDown"');else{var s=r,c=l,u=((null===(t=ee(e))||void 0===t?void 0:t.y)||0)-o.startY;if(i){if(u<0){var a=Math.max(u,-c);o.setState({pullDistance:a}),V.setRaf((function(){return o.setDrag(a)}))}}else if(u>0){var f=Math.min(u,c);o.setState({pullDistance:f}),V.setRaf((function(){return o.setDrag(f)}))}Math.abs(u)>=s?o.setState({refreshType:ie.RELEASE}):o.setState({refreshType:ie.PULL})}}},o.onEnd=function(e){var t=o.props.refreshFunction,n=o.state.pullDistance;if("function"!=typeof t)throw new Error('"refreshFunction" is not function or missing');o.dragging=!1,Math.abs(n)>0&&(o.setState({refreshType:ie.REFRESHING}),t&&t(),V.setRaf(o.resetDrag),o.startY=0,o.setState({pullDistance:0}))},o.resetDrag=function(){var e=o.childrenWrap;e&&(e.style.transform="none",e.style.willChange="none")},o.setDrag=function(e){var t=o.childrenWrap;t&&(t.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)",t.style.transform="translate3d(0px, ".concat(e,"px, 0px)"))},o.dragging=!1,o.startY=0,o.scrollWrap=null,o.childrenWrap=null,o.state={refreshType:ie.PULL,loading:!1,scrollHeight:0,pullDistance:0},o}return j()(n,[{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"componentDidUpdate",value:function(e,t){var n,o,r=this.props.length===e.length;(null===(n=this.props)||void 0===n?void 0:n.isRefreshing)!==(null==e?void 0:e.isRefreshing)&&(null!==(o=this.props)&&void 0!==o&&o.isRefreshing||this.setState({refreshType:ie.END}));r||(this.getScrollableTarget()!==this.scrollRoot&&(le(this.event,"scroll",this.onScrollListener),this.addEvents()),this.updateList())}},{key:"render",value:function(){var e,t,n=this,o=this.props,r=o.children,l=o.pullDownToRefresh,i=o.height,s=o.containerStyle,c=o.hasMore,u=o.loadingComponent,a=o.endComponent,f=o.pullDownComponent,d=o.releaseComponent,p=o.refreshingComponent,m=o.refreshEndComponent,v=o.inverse,h=o.className,g=this.state,y=g.loading,E=g.pullDistance,w=g.refreshType,j=l&&i?{overflow:"hidden"}:{},x=fe({height:i||"auto",overflow:i?"auto":"hidden",WebkitOverflowScrolling:"touch"},s),S=C.a.createElement(C.a.Fragment,null,y&&c&&u,!c&&a),T=(e={},b()(e,ie.PULL,f),b()(e,ie.RELEASE,d),b()(e,ie.REFRESHING,p),b()(e,ie.END,m),e),P=l&&C.a.createElement("div",{style:{display:E||w===ie.REFRESHING?"block":"none"}},C.a.createElement("span",null,T[w]));return C.a.createElement("div",{style:j,className:"infinite-scroll-component__outerdiv"},C.a.createElement("div",{className:"infinite-scroll-component ".concat(h||""),ref:function(e){return n.scrollWrap=e},style:x},C.a.createElement("div",{ref:function(e){return n.childrenWrap=e}},!v&&P,v&&S,H()(t=C.a.Children).call(t,r,(function(e,t){return C.a.cloneElement(C.a.Children.only(e),{style:fe({},e.props.style)})})),!v&&S,v&&P)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.length!==t.prevLength?fe(fe({},t),{},{prevLength:e.length}):null}}]),n}(C.a.Component);ge.defaultProps={minPullDown:10,maxPullDown:50};t.default=ge}]);