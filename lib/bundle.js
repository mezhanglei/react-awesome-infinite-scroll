module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=18)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/typeof")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/slicedToArray")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/set-timeout")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/index-of")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/parse-float")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-names")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/define-property")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/define-properties")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/slice")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,n,t){"use strict";t.r(n);var r=t(11),o=t.n(r),i=t(12),u=t.n(i),c=t(5),l=t.n(c),a=t(6),s=t.n(a),f=t(7),d=t.n(f),m=t(13),v=t.n(m),h=t(8),p=t.n(h),b=t(14),g=t.n(b),y=t(15),j=t.n(y),x=t(16),w=t.n(x),E=t(3),O=t.n(E),T=t(2),P=t.n(T),D=t(0),R=t.n(D);function L(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,t=null;return function(){t||(t=O()((function(){e.apply(this,arguments),t=null}),n))}}var S=t(9),q=t.n(S),I="Pixel",C="Percent",M={unit:C,value:.8};function H(e){return"number"==typeof e?{unit:C,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:I,value:q()(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:C,value:q()(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),M):(console.warn("scrollThreshold should be string or number"),M)}var N=0,_=function(e){var n=(new Date).getTime(),t=Math.max(0,16.7-(n-N)),r=window.setTimeout((function(){e(n+t)}),t);return N=n+t,r},W=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(_=function(e){return window.requestAnimationFrame(e)},W=function(e){return window.cancelAnimationFrame(e)});var F={setRaf:_,cancelRaf:W},k=t(4),A=t.n(k),B=t(1),V=t.n(B);function X(e){return"object"===("undefined"==typeof HTMLElement?"undefined":V()(HTMLElement))?e instanceof HTMLElement:e&&"object"===V()(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function Y(e){var n={};return e instanceof MouseEvent?n={x:e.clientX+$().x,y:e.clientY+$().y}:e instanceof TouchEvent?n={x:e.touches[0].clientX+$().x,y:e.touches[0].clientY+$().y}:X(e)&&(n={x:e.getBoundingClientRect().left+$().x,y:e.getBoundingClientRect().top+$().y}),n}function U(e,n,t){e===document.body?document.documentElement?(document.documentElement.scrollTop=t||0,document.documentElement.scrollLeft=t||0):window&&window.scrollTo(n||0,t||0):(e.scrollTop=t||0,e.scrollLeft=n||0)}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(X(e)){if(e===document.body||e===document.documentElement){var n=e.ownerDocument,t=n.defaultView,r=n.documentElement.scrollLeft||t.pageXOffset||n.body.scrollLeft,o=n.documentElement.scrollTop||t.pageYOffset||n.body.scrollTop;return{x:r,y:o}}var i=e.scrollLeft,u=e.scrollTop;return{x:i,y:u}}}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(X(e)){if(e===document.body||e===document.documentElement){var n=e.clientWidth||window.screen.availWidth,t=e.clientHeight||window.screen.availHeight;return{x:n,y:t}}var r=e.clientWidth,o=e.clientHeight;return{x:r,y:o}}}function G(e){if(X(e))return e.scrollTop>0||(e.scrollTop++,e.scrollTop>0)}var J,K=t(17),Q=t.n(K),Z=t(10),ee=t.n(Z);function ne(e,n){if("object"!=V()(e)||"object"!==V()(n))return e===n;var t=ee()(e),r=ee()(n);if(t.length!=r.length)return!1;for(var o=0;o<t.length;o++){var i=t[o],u=e[i],c=n[i];if("object"===V()(u)){if(!ne(u,c))return!1}else if(u!==c)return!1}return!0}!function(e){e.UP="up",e.DOWN="down"}(J||(J={}));var te=function e(n){var t=this;Q()(this,e),this.limit=void 0,this.dataSource=void 0,this.startIndex=void 0,this.endIndex=void 0,this.updateIndex=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=ne(e[0],t.dataSource[0])?J.DOWN:J.UP,r=(null==e?void 0:e.length)-t.limit;n===J.DOWN?(console.log(null==e?void 0:e.length,t.limit,"下"),t.startIndex=Math.max(r,0),t.endIndex=null==e?void 0:e.length):(t.startIndex=0,console.log(null==e?void 0:e.length,t.limit,"上"),t.endIndex=t.limit?Math.min(null==e?void 0:e.length,t.limit):null==e?void 0:e.length),t.dataSource=e},this.getIndex=function(){return{startIndex:t.startIndex,endIndex:t.endIndex}};var r=n.limit;this.limit=r||0,this.startIndex=0,this.endIndex=this.limit,this.dataSource=[]};function re(e,n){var t=g()(e);if(p.a){var r=p()(e);n&&(r=v()(r).call(r,(function(n){return d()(e,n).enumerable}))),t.push.apply(t,r)}return t}var oe=R.a.forwardRef((function(e,n){var t,r=e.height,i=e.containerStyle,c=e.children,a=e.pullDownToRefresh,f=e.releaseComponent,m=e.pullDownComponent,v=e.refreshingComponent,h=e.refreshEndComponent,p=e.endComponent,b=e.loadingComponent,g=e.hasMore,y=e.errorComponent,x=e.className,E=e.onScroll,T=e.inverse,S=e.thresholdValue,q=e.next,C=e.refreshFunction,M=e.minPullDown,N=void 0===M?0:M,_=e.maxPullDown,W=void 0===_?0:_,k=e.limit,B=e.dataSource,V=Object(D.useState)(0),J=P()(V,2),K=J[0],Q=J[1],Z=Object(D.useState)("pullDown"),ee=P()(Z,2),ne=ee[0],oe=ee[1],ie=Object(D.useState)(!1),ue=P()(ie,2),ce=ue[0],le=ue[1],ae=Object(D.useState)(!1),se=P()(ae,2),fe=se[0],de=se[1],me=Object(D.useState)(0),ve=P()(me,2),he=ve[0],pe=ve[1],be=Object(D.useState)(0),ge=P()(be,2),ye=ge[0],je=ge[1],xe=Object(D.useRef)(null),we=Object(D.useRef)(null),Ee=Object(D.useRef)(),Oe=Object(D.useRef)(),Te=Object(D.useRef)(),Pe=Object(D.useRef)(0),De=Object(D.useRef)(),Re=Object(D.useRef)(),Le=Object(D.useRef)(0),Se=!1,qe=!1;R.a.useImperativeHandle(n,(function(){return{scrollTo:function(e,n){U(Ee.current,e||0,n||0)},getScrollRef:function(){return Ee}}}));var Ie=function(){var n=xe.current,t=e.scrollableParent;return X(t)?t:"string"==typeof t?document.querySelector(t):r?n:function(e,n){var t=[document.body,document.documentElement];if(A()(t).call(t,e)>-1)return document.body||document.documentElement;var r=e.parentNode;if(n)for(;-1==A()(t).call(t,r)&&n>0;){if(G(r))return r;r=r.parentNode,n--}else for(;-1==A()(t).call(t,r);){if(G(r))return r;r=r.parentNode}return document.body||document.documentElement}(n)},Ce=Object(D.useRef)();Object(D.useEffect)((function(){Ce.current=new te({limit:k})}),[]),Object(D.useEffect)((function(){var n=Ie();if(Ee.current=n,n&&(He(n),e.scrollableParent&&e.height&&console.error('"scrollableParent" and "height" only need one'),k&&!B&&console.error('you should set the "dataSource"')),Ce.current&&Ce.current.updateIndex(B),R.a.Children.count(c)){if(Pe.current>0){if(T&&ce&&Be(n,S)&&U(n,0,he&&n.scrollHeight-he?n.scrollHeight-he:50),!T&&k)U(n,0,$(n).y-50);De.current=!1,le(!1),Te.current=!1,de(!1)}Pe.current=Pe.current+1,R.a.Children.count(c)<=1&&console.error('"props.children" cannot only one ReactNode, please check,Check to see if it is wrapped by an element!')}return pe(n.scrollHeight),function(){Ne()}}),[c]),Object(D.useEffect)((function(){Te.current=e.isError,de(e.isError)}),[e.isError]),Object(D.useEffect)((function(){Re.current=e.forbidTrigger}),[e.forbidTrigger]);var Me=function(e){if("function"==typeof E&&O()((function(){return E&&E(e)}),0),!(De.current||Re.current||Te.current)){var n=Ee.current;(T?Be(n,S):Ve(n,S))&&g&&(De.current=!0,le(!0),q&&q())}},He=function(e){if(!Re.current){var n=e===(document.body||document.documentElement)?document||window:e;if(Oe.current=n,n){var t=L(Me);n.addEventListener("scroll",t)}if(a&&n){var r,o;n.addEventListener("touchstart",_e),n.addEventListener("touchmove",We),n.addEventListener("touchend",Fe),n.addEventListener("mousedown",_e),n.addEventListener("mousemove",We),document.addEventListener("mouseup",Fe);var i=we.current;Q((null==i||null===(r=i.firstChild)||void 0===r||null===(o=r.getBoundingClientRect())||void 0===o?void 0:o.height)||0)}}},Ne=function(){var e=Oe.current;if(e){var n=L(Me);e.removeEventListener("scroll",n),a&&(e.removeEventListener("touchstart",_e),e.removeEventListener("touchmove",We),e.removeEventListener("touchend",Fe),e.removeEventListener("mousedown",_e),e.removeEventListener("mousemove",We),document.removeEventListener("mouseup",Fe),F.cancelRaf(ke))}},_e=function(e){if(e.preventDefault(),je(0),!(T?!Ve(Ee.current,S):!Be(Ee.current,S))){Se=!0,Le.current=Y(e).y;var n=xe.current;n&&(n.style.willChange="transform",n.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)")}},We=function(e){if(e.preventDefault(),Se)if(N>W)console.warn('"minPullDown" is large than "maxPullDown", please set "maxPullDown" and "maxPullDown" should large than "minPullDown"');else if(N>=K)console.warn('"minPullDown" is large than pull area\'s height, please set "maxPullDown" and "maxPullDown" should large than "minPullDown"');else{var n=N||.6*K,t=W||K,o=Y(e).y-Le.current;je(Math.min(Math.abs(o),t)),Math.abs(o)>=n?oe("release"):oe("pullDown"),T?(F.setRaf((function(){return Ae(Math.max(o,-t))})),r&&U(Ee.current,0,$(Ee.current).y-Math.max(o,-t))):F.setRaf((function(){return Ae(Math.min(o,t))})),qe=!0}},Fe=function(e){if("function"!=typeof C)throw new Error('"refreshFunction" is not function or missing');Se=!1,oe("refreshing"),O()((function(){qe&&(C&&C(),qe=!1,oe("refreshEnd"),F.setRaf(ke),Le.current=0,je(0))}),1e3)},ke=function(){var e=xe.current;e&&(e.style.transform="none",e.style.willChange="none")},Ae=function(e){var n=xe.current;n&&(n.style.transition="transform 0.3s",n.style.transform="translate3d(0px, ".concat(e,"px, 0px)"))},Be=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,t=(z(e).y,$(e).y),r=H(n);return r.unit===I?t<=r.value:t<=20},Ve=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,t=z(e).y,r=$(e).y,o=H(n);return o.unit===I?r+t>=e.scrollHeight-o.value:r+t>=o.value/100*e.scrollHeight},Xe=!!(c&&c instanceof Array&&c.length),Ye=a&&r?{overflow:"hidden"}:{},Ue=function(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)s()(t=re(Object(r),!0)).call(t,(function(n){w()(e,n,r[n])}));else if(l.a)u()(e,l()(r));else{var i;s()(i=re(Object(r))).call(i,(function(n){o()(e,n,d()(r,n))}))}}return e}({height:r||"auto",overflow:e.height?"auto":"hidden",WebkitOverflowScrolling:"touch"},i),$e=R.a.createElement(R.a.Fragment,null,(ce||!ce&&!Xe)&&g&&!fe&&b,fe&&y,!g&&!fe&&p),ze={pullDown:m,release:f,refreshing:v,refreshEnd:h},Ge=a&&R.a.createElement("div",{style:{height:"".concat(ye,"px"),overflow:"hidden"},ref:we},R.a.createElement("span",null,ze[ne])),Je=Ce.current&&Ce.current.getIndex();return R.a.createElement("div",{style:Ye,className:"infinite-scroll-component__outerdiv"},R.a.createElement("div",{className:"infinite-scroll-component ".concat(x||""),ref:xe,style:Ue},!T&&Ge,T&&$e,j()(t=c).call(t,null==Je?void 0:Je.startIndex,null==Je?void 0:Je.endIndex),!T&&$e,T&&Ge))}));n.default=oe}]);