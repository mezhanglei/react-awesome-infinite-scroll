module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/includes")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/index-of")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/parse-float")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/typeof")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(e,t){e.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/map")},function(e,t){e.exports=require("@babel/runtime-corejs3/core-js/instance/some")},function(e,t,n){"use strict";n.r(t);var r=n(7),o=n.n(r),l=n(8),i=n.n(l),s=n(3),u=n.n(s),c=n(9),a=n.n(c),f=n(4),d=n.n(f),p=n(5),m=n.n(p),v=n(6),h=n.n(v),g=n(2),b=n.n(g),y=n(14),E=n.n(y),w=n(15),j=n.n(w),x=n(16),T=n.n(x),S=n(17),D=n.n(S),P=n(11),R=n.n(P),L=n(1),q=n.n(L),O=n(18),M=n.n(O),H=n(0),C=n.n(H),W=n(12),A=n.n(W),N="Pixel",F="Percent",k={unit:F,value:.8};function Y(e){return"number"==typeof e?{unit:F,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:N,value:A()(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:F,value:A()(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),k):(console.warn("scrollThreshold should be string or number"),k)}var _=0,U=function(e){var t=(new Date).getTime(),n=Math.max(0,16.7-(t-_)),r=window.setTimeout((function(){e(t+n)}),n);return _=t+n,r},B=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(U=function(e){return window.requestAnimationFrame(e)},B=function(e){return window.cancelAnimationFrame(e)});var V={setRaf:U,cancelRaf:B},G=n(10),I=n.n(G),X=n(13),z=n.n(X);function $(e){return"object"===("undefined"==typeof HTMLElement?"undefined":z()(HTMLElement))?e instanceof HTMLElement:e&&"object"===z()(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function J(e,t){var n=i()(e);if(u.a){var r=u()(e);t&&(r=a()(r).call(r,(function(t){return d()(e,t).enumerable}))),n.push.apply(n,r)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)m()(n=J(Object(r),!0)).call(n,(function(t){b()(e,t,r[t])}));else if(h.a)Object.defineProperties(e,h()(r));else{var o;m()(o=J(Object(r))).call(o,(function(t){Object.defineProperty(e,t,d()(r,t))}))}}return e}function Q(e){return e.getBoundingClientRect()}function Z(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if($(t)){if(q()(e=[document.documentElement,document.body]).call(e,t)){var n=t.ownerDocument,r=n.defaultView,o=n.documentElement.scrollLeft||r.pageXOffset||n.body.scrollLeft,l=n.documentElement.scrollTop||r.pageYOffset||n.body.scrollTop;return{x:o,y:l}}var i=t.scrollLeft,s=t.scrollTop;return{x:i,y:s}}}function ee(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body||document.documentElement,n=null;if("clientX"in e)n={x:(null==e?void 0:e.clientX)-Q(t).left,y:(null==e?void 0:e.clientY)-Q(t).top};else if("touches"in e){var r,o;if(null!=e&&e.touches[0])n={x:(null==e||null===(r=e.touches[0])||void 0===r?void 0:r.clientX)-Q(t).left,y:(null==e||null===(o=e.touches[0])||void 0===o?void 0:o.clientY)-Q(t).top}}return n}function te(e){var t;if($(e))return q()(t=[document.documentElement,document.body]).call(t,e)?{width:window.innerWidth,height:window.innerHeight}:{width:e.offsetWidth,height:e.offsetHeight}}function ne(e){return!!$(e)&&(e.scrollTop>0||(e.scrollTop++,e.scrollTop>0))}function re(e,t,n,r){if(e){var o=K({capture:!1,once:!1,passive:!1},r);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}}function oe(e,t,n,r){if(e){var o=K({capture:!1,once:!1,passive:!1},r);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null}}var le,ie,se=n(19),ue=n.n(se);function ce(e,t){var n=i()(e);if(u.a){var r=u()(e);t&&(r=a()(r).call(r,(function(t){return d()(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n,r=null!=arguments[t]?arguments[t]:{};if(t%2)m()(n=ce(Object(r),!0)).call(n,(function(t){b()(e,t,r[t])}));else if(h.a)Object.defineProperties(e,h()(r));else{var o;m()(o=ce(Object(r))).call(o,(function(t){Object.defineProperty(e,t,d()(r,t))}))}}return e}function fe(e){var t=function(){if("undefined"==typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R()(e);if(t){var l=R()(this).constructor;n=o()(r,arguments,l)}else n=r.apply(this,arguments);return D()(this,n)}}!function(e){e.PULL="pullDown",e.RELEASE="release",e.REFRESHING="refreshing",e.END="refreshEnd"}(le||(le={})),function(e){e.UP="up",e.DOWN="down"}(ie||(ie={}));var de,pe,me={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ve=(de=navigator.userAgent,pe=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],ue()(pe).call(pe,(function(e){return q()(de).call(de,e)}))?me.touch:me.mouse),he=function(e){T()(n,e);var t=fe(n);function n(e){var r;return E()(this,n),(r=t.call(this,e)).scrollWrap=void 0,r.childrenWrap=void 0,r.event=void 0,r.scrollRoot=void 0,r.dragging=void 0,r.startY=void 0,r.addEvents=function(){r.scrollRoot=r.getScrollableTarget();var e=r.props,t=e.scrollableParent,n=e.height,o=r.scrollRoot;o&&(r.initDom(o),t&&n&&console.error('"scrollableParent" and "height" only need one'))},r.removeEvents=function(){var e=r.props.pullDownToRefresh,t=r.event;t&&(oe(t,"scroll",r.onScrollListener),e&&(oe(t,ve.start,r.onStart),oe(t,ve.move,r.onMove),oe(document,ve.stop,r.onEnd),V.cancelRaf(r.resetDrag)))},r.getScrollableTarget=function(){var e=r.scrollWrap,t=r.props.scrollableParent;return $(t)?t:"string"==typeof t?document.querySelector(t):r.props.height?e:function(e,t){var n=[document.documentElement,document.body];if(I()(n).call(n,e)>-1)return document.body||document.documentElement;var r=null==e?void 0:e.parentNode;if(t)for(;-1==I()(n).call(n,r)&&t>0;){if(ne(r))return r;r=r.parentNode,t--}else for(;-1==I()(n).call(n,r);){if(ne(r))return r;r=r.parentNode}return document.body||document.documentElement}(e)},r.initDom=function(e){var t,n=r.props,o=n.pullDownToRefresh;if(!n.forbidTrigger){var l=q()(t=[document.documentElement,document.body]).call(t,e)?document||window:e;r.event=l,l&&re(l,"scroll",r.onScrollListener),o&&l&&(re(document,ve.start,r.onStart),re(document,ve.move,r.onMove),re(document,ve.stop,r.onEnd))}},r.updateList=function(){var e=r.scrollRoot;if(e){var t,n,o,l,i=r.props,s=i.inverse,u=i.thresholdValue,c=r.state,a=c.loading,f=c.scrollHeight;s&&a&&r.isElementAtTop(e,u)&&(t=e,n=0,o=f&&e.scrollHeight-f?e.scrollHeight-f:50,q()(l=[document.documentElement,document.body]).call(l,t)?(document.documentElement.scrollTop=o||0,document.documentElement.scrollLeft=n||0):t?(t.scrollTop=o||0,t.scrollLeft=n||0):window&&window.scrollTo(n||0,o||0)),r.setState({loading:!1,scrollHeight:e.scrollHeight})}},r.onScrollListener=function(e){var t=r.props,n=t.onScroll,o=t.inverse,l=t.thresholdValue,i=t.hasMore,s=t.next,u=t.forbidTrigger,c=r.state.loading;if("function"==typeof n&&setTimeout((function(){return n&&n(e)}),0),!c&&!u){var a=r.scrollRoot;if(a)(o?r.isElementAtTop(a,l):r.isElementAtBottom(a,l))&&i&&(r.setState({loading:!0}),s&&s())}},r.isElementAtTop=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,r=(null===(t=Z(e))||void 0===t?void 0:t.y)||0,o=Y(n);return o.unit===N?r<=o.value:r<=20},r.isElementAtBottom=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,o=(null===(t=te(e))||void 0===t?void 0:t.height)||0,l=(null===(n=Z(e))||void 0===n?void 0:n.y)||0,i=Y(r);return i.unit===N?l+o>=e.scrollHeight-i.value:l+o>=i.value/100*e.scrollHeight},r.onStart=function(e){var t,n=r.props,o=n.inverse,l=n.thresholdValue;if(r.scrollRoot&&!(o?!r.isElementAtBottom(r.scrollRoot,l):!r.isElementAtTop(r.scrollRoot,l))){r.dragging=!0,r.startY=(null===(t=ee(e))||void 0===t?void 0:t.y)||0;var i=r.scrollWrap;i&&(i.style.willChange="transform",i.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)")}},r.onMove=function(e){var t;if(r.dragging){var n=r.props,o=n.minPullDown,l=n.maxPullDown,i=n.inverse;if(o>l)console.warn('"minPullDown" is large than "maxPullDown", please set "maxPullDown" and "maxPullDown" should large than "minPullDown"');else{var s=o,u=l,c=((null===(t=ee(e))||void 0===t?void 0:t.y)||0)-r.startY;if(i){if(c<0){var a=Math.max(c,-u);r.setState({pullDistance:a}),V.setRaf((function(){return r.setDrag(a)}))}}else if(c>0){var f=Math.min(c,u);r.setState({pullDistance:f}),V.setRaf((function(){return r.setDrag(f)}))}Math.abs(c)>=s?r.setState({refreshType:le.RELEASE}):r.setState({refreshType:le.PULL})}}},r.onEnd=function(e){var t=r.props.refreshFunction,n=r.state.pullDistance;if("function"!=typeof t)throw new Error('"refreshFunction" is not function or missing');r.dragging=!1,Math.abs(n)>0&&(r.setState({refreshType:le.REFRESHING}),t&&t(),V.setRaf(r.resetDrag),r.startY=0,r.setState({pullDistance:0}))},r.resetDrag=function(){var e=r.childrenWrap;e&&(e.style.transform="none",e.style.willChange="none")},r.setDrag=function(e){var t=r.childrenWrap;t&&(t.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)",t.style.transform="translate3d(0px, ".concat(e,"px, 0px)"))},r.dragging=!1,r.startY=0,r.scrollWrap=null,r.childrenWrap=null,r.state={refreshType:le.PULL,loading:!1,scrollHeight:0,pullDistance:0},r}return j()(n,[{key:"componentDidMount",value:function(){this.addEvents()}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"componentDidUpdate",value:function(e,t){var n,r,o=this.props.length===e.length;(null===(n=this.props)||void 0===n?void 0:n.isRefreshing)!==(null==e?void 0:e.isRefreshing)&&(null!==(r=this.props)&&void 0!==r&&r.isRefreshing||this.setState({refreshType:le.END}));o||(this.getScrollableTarget()!==this.scrollRoot&&(oe(this.event,"scroll",this.onScrollListener),this.addEvents()),this.updateList())}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.children,l=r.pullDownToRefresh,i=r.height,s=r.containerStyle,u=r.hasMore,c=r.loadingComponent,a=r.endComponent,f=r.pullDownComponent,d=r.releaseComponent,p=r.refreshingComponent,m=r.refreshEndComponent,v=r.inverse,h=r.className,g=this.state,y=g.loading,E=g.pullDistance,w=g.refreshType,j=l&&i?{overflow:"hidden"}:{},x=ae({height:i||"auto",overflow:i?"auto":"hidden",WebkitOverflowScrolling:"touch"},s),T=C.a.createElement(C.a.Fragment,null,y&&u&&c,!u&&a),S=(e={},b()(e,le.PULL,f),b()(e,le.RELEASE,d),b()(e,le.REFRESHING,p),b()(e,le.END,m),e),D=l&&C.a.createElement("div",{style:{display:E||w===le.REFRESHING?"block":"none"}},C.a.createElement("span",null,S[w]));return C.a.createElement("div",{style:j,className:"infinite-scroll-component__outerdiv"},C.a.createElement("div",{className:"infinite-scroll-component ".concat(h||""),ref:function(e){return n.scrollWrap=e},style:x},C.a.createElement("div",{ref:function(e){return n.childrenWrap=e}},!v&&D,v&&T,M()(t=C.a.Children).call(t,o,(function(e,t){return C.a.cloneElement(C.a.Children.only(e),{style:ae({},e.props.style)})})),!v&&T,v&&D)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.length!==t.prevLength?ae(ae({},t),{},{prevLength:e.length}):null}}]),n}(C.a.Component);he.defaultProps={minPullDown:10,maxPullDown:50};t.default=he}]);