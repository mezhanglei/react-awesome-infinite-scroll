module.exports=function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=20)}([function(e,n){e.exports=require("react")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/includes")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/defineProperty")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-symbols")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptor")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/for-each")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/get-own-property-descriptors")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/reflect/construct")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/object/keys")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/filter")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/index-of")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/getPrototypeOf")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/parse-float")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/typeof")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/classCallCheck")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/createClass")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/inherits")},function(e,n){e.exports=require("@babel/runtime-corejs3/helpers/esm/possibleConstructorReturn")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/map")},function(e,n){e.exports=require("@babel/runtime-corejs3/core-js/instance/some")},function(e,n,t){"use strict";t.r(n);var r=t(7),o=t.n(r),l=t(8),i=t.n(l),u=t(3),s=t.n(u),c=t(9),a=t.n(c),f=t(4),d=t.n(f),p=t(5),m=t.n(p),v=t(6),h=t.n(v),g=t(2),b=t.n(g),y=t(14),E=t.n(y),w=t(15),j=t.n(w),x=t(16),T=t.n(x),D=t(17),P=t.n(D),S=t(11),R=t.n(S),L=t(1),q=t.n(L),O=t(18),M=t.n(O),H=t(0),C=t.n(H);function W(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160,t=null;return function(){t||(t=setTimeout((function(){e.apply(this,arguments),t=null}),n))}}var A=t(12),N=t.n(A),F="Pixel",k="Percent",Y={unit:k,value:.8};function _(e){return"number"==typeof e?{unit:k,value:100*e}:"string"==typeof e?e.match(/^(\d*(\.\d+)?)px$/)?{unit:F,value:N()(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:k,value:N()(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),Y):(console.warn("scrollThreshold should be string or number"),Y)}var U=0,B=function(e){var n=(new Date).getTime(),t=Math.max(0,16.7-(n-U)),r=window.setTimeout((function(){e(n+t)}),t);return U=n+t,r},V=function(e){return clearTimeout(e)};"undefined"!=typeof window&&"requestAnimationFrame"in window&&(B=function(e){return window.requestAnimationFrame(e)},V=function(e){return window.cancelAnimationFrame(e)});var G={setRaf:B,cancelRaf:V},I=t(10),X=t.n(I),z=t(13),$=t.n(z);function J(e){return"object"===("undefined"==typeof HTMLElement?"undefined":$()(HTMLElement))?e instanceof HTMLElement:e&&"object"===$()(e)&&1===e.nodeType&&"string"==typeof e.nodeName}function K(e,n){var t=i()(e);if(s.a){var r=s()(e);n&&(r=a()(r).call(r,(function(n){return d()(e,n).enumerable}))),t.push.apply(t,r)}return t}function Q(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)m()(t=K(Object(r),!0)).call(t,(function(n){b()(e,n,r[n])}));else if(h.a)Object.defineProperties(e,h()(r));else{var o;m()(o=K(Object(r))).call(o,(function(n){Object.defineProperty(e,n,d()(r,n))}))}}return e}function Z(e){return e.getBoundingClientRect()}function ee(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body||document.documentElement;if(J(n)){if(q()(e=[document.documentElement,document.body]).call(e,n)){var t=n.ownerDocument,r=t.defaultView,o=t.documentElement.scrollLeft||r.pageXOffset||t.body.scrollLeft,l=t.documentElement.scrollTop||r.pageYOffset||t.body.scrollTop;return{x:o,y:l}}var i=n.scrollLeft,u=n.scrollTop;return{x:i,y:u}}}function ne(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body||document.documentElement,t=null;if("clientX"in e)t={x:(null==e?void 0:e.clientX)-Z(n).left,y:(null==e?void 0:e.clientY)-Z(n).top};else if("touches"in e){var r,o;if(null!=e&&e.touches[0])t={x:(null==e||null===(r=e.touches[0])||void 0===r?void 0:r.clientX)-Z(n).left,y:(null==e||null===(o=e.touches[0])||void 0===o?void 0:o.clientY)-Z(n).top}}return t}function te(e){var n;if(J(e))return q()(n=[document.documentElement,document.body]).call(n,e)?{width:window.innerWidth,height:window.innerHeight}:{width:e.offsetWidth,height:e.offsetHeight}}function re(e){return!!J(e)&&(e.scrollTop>0||(e.scrollTop++,e.scrollTop>0))}function oe(e,n,t,r){if(e){var o=Q({capture:!1,once:!1,passive:!1},r);e.addEventListener?e.addEventListener(n,t,o):e.attachEvent?e.attachEvent("on"+n,t):e["on"+n]=t}}function le(e,n,t,r){if(e){var o=Q({capture:!1,once:!1,passive:!1},r);e.removeEventListener?e.removeEventListener(n,t,o):e.detachEvent?e.detachEvent("on"+n,t):e["on"+n]=null}}var ie,ue,se=t(19),ce=t.n(se);function ae(e,n){var t=i()(e);if(s.a){var r=s()(e);n&&(r=a()(r).call(r,(function(n){return d()(e,n).enumerable}))),t.push.apply(t,r)}return t}function fe(e){for(var n=1;n<arguments.length;n++){var t,r=null!=arguments[n]?arguments[n]:{};if(n%2)m()(t=ae(Object(r),!0)).call(t,(function(n){b()(e,n,r[n])}));else if(h.a)Object.defineProperties(e,h()(r));else{var o;m()(o=ae(Object(r))).call(o,(function(n){Object.defineProperty(e,n,d()(r,n))}))}}return e}function de(e){var n=function(){if("undefined"==typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,r=R()(e);if(n){var l=R()(this).constructor;t=o()(r,arguments,l)}else t=r.apply(this,arguments);return P()(this,t)}}!function(e){e.PULL="pullDown",e.RELEASE="release",e.REFRESHING="refreshing",e.END="refreshEnd"}(ie||(ie={})),function(e){e.UP="up",e.DOWN="down"}(ue||(ue={}));var pe,me,ve={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},he=(pe=navigator.userAgent,me=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],ce()(me).call(me,(function(e){return q()(pe).call(pe,e)}))?ve.touch:ve.mouse),ge=function(e){T()(t,e);var n=de(t);function t(e){var r;return E()(this,t),(r=n.call(this,e)).scrollWrap=void 0,r.childrenWrap=void 0,r.event=void 0,r.scrollRoot=void 0,r.dragging=void 0,r.startY=void 0,r.removeEvents=function(){var e=r.props.pullDownToRefresh,n=r.event;n&&(le(n,"scroll",W(r.onScrollListener)),e&&(le(n,he.start,r.onStart),le(n,he.move,r.onMove),le(document,he.stop,r.onEnd),G.cancelRaf(r.resetDrag)))},r.getScrollableTarget=function(){var e=r.scrollWrap,n=r.props.scrollableParent;return J(n)?n:"string"==typeof n?document.querySelector(n):r.props.height?e:function(e,n){var t=[document.documentElement,document.body];if(X()(t).call(t,e)>-1)return document.body||document.documentElement;var r=null==e?void 0:e.parentNode;if(n)for(;-1==X()(t).call(t,r)&&n>0;){if(re(r))return r;r=r.parentNode,n--}else for(;-1==X()(t).call(t,r);){if(re(r))return r;r=r.parentNode}return document.body||document.documentElement}(e)},r.initDom=function(e){var n,t=r.props,o=t.pullDownToRefresh;if(!t.forbidTrigger){var l=q()(n=[document.documentElement,document.body]).call(n,e)?document||window:e;if(r.event=l,l)oe(l,"scroll",W(r.onScrollListener));o&&l&&(oe(document,he.start,r.onStart),oe(document,he.move,r.onMove),oe(document,he.stop,r.onEnd))}},r.updateList=function(){var e=r.scrollRoot;if(e){var n,t,o,l,i=r.props,u=i.inverse,s=i.thresholdValue,c=r.state,a=c.loading,f=c.scrollHeight;u&&a&&r.isElementAtTop(e,s)&&(n=e,t=0,o=f&&e.scrollHeight-f?e.scrollHeight-f:50,q()(l=[document.documentElement,document.body]).call(l,n)?(document.documentElement.scrollTop=o||0,document.documentElement.scrollLeft=t||0):n?(n.scrollTop=o||0,n.scrollLeft=t||0):window&&window.scrollTo(t||0,o||0)),r.setState({loading:!1,scrollHeight:e.scrollHeight})}},r.onScrollListener=function(e){var n=r.props,t=n.onScroll,o=n.inverse,l=n.thresholdValue,i=n.hasMore,u=n.next,s=n.forbidTrigger,c=r.state.loading;if("function"==typeof t&&setTimeout((function(){return t&&t(e)}),0),!c&&!s){var a=r.scrollRoot;if(a)(o?r.isElementAtTop(a,l):r.isElementAtBottom(a,l))&&i&&(r.setState({loading:!0}),u&&u())}},r.isElementAtTop=function(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,r=(null===(n=ee(e))||void 0===n?void 0:n.y)||0,o=_(t);return o.unit===F?r<=o.value:r<=20},r.isElementAtBottom=function(e){var n,t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.8,o=(null===(n=te(e))||void 0===n?void 0:n.height)||0,l=(null===(t=ee(e))||void 0===t?void 0:t.y)||0,i=_(r);return i.unit===F?l+o>=e.scrollHeight-i.value:l+o>=i.value/100*e.scrollHeight},r.onStart=function(e){var n,t=r.props,o=t.inverse,l=t.thresholdValue;if(r.scrollRoot&&!(o?!r.isElementAtBottom(r.scrollRoot,l):!r.isElementAtTop(r.scrollRoot,l))){r.dragging=!0,r.startY=(null===(n=ne(e))||void 0===n?void 0:n.y)||0;var i=r.scrollWrap;i&&(i.style.willChange="transform",i.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)")}},r.onMove=function(e){var n;if(r.dragging){var t=r.props,o=t.minPullDown,l=t.maxPullDown,i=t.inverse;if(o>l)console.warn('"minPullDown" is large than "maxPullDown", please set "maxPullDown" and "maxPullDown" should large than "minPullDown"');else{var u=o,s=l,c=((null===(n=ne(e))||void 0===n?void 0:n.y)||0)-r.startY;if(i){if(c<0){var a=Math.max(c,-s);r.setState({pullDistance:a}),G.setRaf((function(){return r.setDrag(a)}))}}else if(c>0){var f=Math.min(c,s);r.setState({pullDistance:f}),G.setRaf((function(){return r.setDrag(f)}))}Math.abs(c)>=u?r.setState({refreshType:ie.RELEASE}):r.setState({refreshType:ie.PULL})}}},r.onEnd=function(e){var n=r.props.refreshFunction,t=r.state.pullDistance;if("function"!=typeof n)throw new Error('"refreshFunction" is not function or missing');r.dragging=!1,Math.abs(t)>0&&(r.setState({refreshType:ie.REFRESHING}),n&&n(),G.setRaf(r.resetDrag),r.startY=0,r.setState({pullDistance:0}))},r.resetDrag=function(){var e=r.childrenWrap;e&&(e.style.transform="none",e.style.willChange="none")},r.setDrag=function(e){var n=r.childrenWrap;n&&(n.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)",n.style.transform="translate3d(0px, ".concat(e,"px, 0px)"))},r.dragging=!1,r.startY=0,r.scrollWrap=null,r.childrenWrap=null,r.state={refreshType:ie.PULL,loading:!1,scrollHeight:0,pullDistance:0},r}return j()(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.scrollRoot=e.getScrollableTarget();var n=e.props,t=n.scrollableParent,r=n.height,o=e.scrollRoot;o&&(e.initDom(o),t&&r&&console.error('"scrollableParent" and "height" only need one'))}),0)}},{key:"componentWillUnmount",value:function(){this.removeEvents()}},{key:"componentDidUpdate",value:function(e,n){var t,r,o=this.props.length===e.length;(null===(t=this.props)||void 0===t?void 0:t.isRefreshing)!==(null==e?void 0:e.isRefreshing)&&(null!==(r=this.props)&&void 0!==r&&r.isRefreshing||this.setState({refreshType:ie.END}));o||this.updateList()}},{key:"render",value:function(){var e,n,t=this,r=this.props,o=r.children,l=r.pullDownToRefresh,i=r.height,u=r.containerStyle,s=r.hasMore,c=r.loadingComponent,a=r.endComponent,f=r.pullDownComponent,d=r.releaseComponent,p=r.refreshingComponent,m=r.refreshEndComponent,v=r.inverse,h=r.className,g=this.state,y=g.loading,E=g.pullDistance,w=g.refreshType,j=l&&i?{overflow:"hidden"}:{},x=fe({height:i||"auto",overflow:i?"auto":"hidden",WebkitOverflowScrolling:"touch"},u),T=C.a.createElement(C.a.Fragment,null,y&&s&&c,!s&&a),D=(e={},b()(e,ie.PULL,f),b()(e,ie.RELEASE,d),b()(e,ie.REFRESHING,p),b()(e,ie.END,m),e),P=l&&C.a.createElement("div",{style:{display:E||w===ie.REFRESHING?"block":"none"}},C.a.createElement("span",null,D[w]));return C.a.createElement("div",{style:j,className:"infinite-scroll-component__outerdiv"},C.a.createElement("div",{className:"infinite-scroll-component ".concat(h||""),ref:function(e){return t.scrollWrap=e},style:x},C.a.createElement("div",{ref:function(e){return t.childrenWrap=e}},!v&&P,v&&T,M()(n=C.a.Children).call(n,o,(function(e,n){return C.a.cloneElement(C.a.Children.only(e),{style:fe({},e.props.style)})})),!v&&T,v&&P)))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return e.length!==n.prevLength?fe(fe({},n),{},{prevLength:e.length}):null}}]),t}(C.a.Component);ge.defaultProps={minPullDown:10,maxPullDown:50};n.default=ge}]);